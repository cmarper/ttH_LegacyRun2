{\rtf1\ansi\ansicpg1252\cocoartf1504\cocoasubrtf830
{\fonttbl\f0\fnil\fcharset0 HelveticaNeue;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red255\green255\blue0;\red0\green255\blue255;
\red255\green0\blue0;\red255\green0\blue255;\red63\green105\blue30;\red85\green142\blue40;\red255\green128\blue0;
}
{\*\expandedcolortbl;;\csgenericrgb\c0\c0\c0;\csgenericrgb\c100000\c100000\c0;\csgenericrgb\c0\c100000\c100000;
\csgenericrgb\c100000\c0\c0;\csgenericrgb\c100000\c0\c100000;\csgenericrgb\c24706\c41176\c11765;\csgenericrgb\c33333\c55686\c15686;\csgenericrgb\c100000\c50000\c0;
}
\margl1440\margr1440\vieww21420\viewh15200\viewkind0
\deftab720
\pard\pardeftab720\sl280\partightenfactor0

\f0\b\fs28 \cf2 \cb3 Workspace:
\b0 \cb1 \
MC 2016, 2017, 2018: \expnd0\expndtw0\kerning0
/home/llr/cms/mperez/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test \
\kerning1\expnd0\expndtw0 Data 2016, 2017, 2018: /home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test\
\
TH WEIGHTS FOR CPCVCT SAMPLES:\

\b \
\
\cb3 Samples considered complete:\cb1 \

\b0 MC: \
- ttH/tH/ttV/VH >95%\
- rest/training: >70%\
DATA: 100%\
\

\b \cb3 SAMPLES
\b0 \cb1 \

\b \
\cb4 2016:\cb1 \
\
\
\'97\'97\
\
\cb3 RESUBMIT WITH LUMIMASK\cb1 \
\
\cf5 Instructions\
\
\cf2 To be done when >10 files missing\

\b0 a - create a lumimask for the expired task (it will have what is not submitted)\
crab report -d finished-partial/TASK_AREA\
b -  use that lumimask when creating a new task (even if it is mc)
\b \
\
\cf5 Done\cf2 \
\
\cb4 2016:\cb1 \
\cf6 crab_Data_2016_v2_SingleEle_BlockB
\b0  -> 30% failed. WAIT TO SEE WHEN IF TRANSFERRED FILES ARE DONE (THE REST WON\'92T)\cf2 \
	                            cooloff: 0.1% (   2/1758)\
				failed: 0.2% (   4/1758)\
				finished: 67.5% (1187/1758)\
				killed: 31.6% ( 556/1758)\
				transferring: 0.5% (   9/1758)\
\
\pard\pardeftab720\sl280\partightenfactor0

\b \cf7 crab_Data_2016_v2_SingleMu_BlockH
\b0 \cf2  -> 331/1582 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2016_v2_SingleMu_BlockH/results/notFinishedLumis.json\
\pard\pardeftab720\sl280\partightenfactor0

\b \cf2 	crab_Data_2016_v2_SingleMu_BlockH_missingv1\
\
\
\cb4 2017:\cb1 \
\pard\pardeftab720\sl280\partightenfactor0
\cf7 crab_Data_2017_v1_SingleMu_BlockF
\b0 \cf2  -> 29/1950 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2017_v1_SingleMu_BlockF/results/notFinishedLumis.json\
\pard\pardeftab720\sl280\partightenfactor0

\b \cf2 	crab_Data_2017_v1_SingleMu_BlockF_missingv1
\b0 \
\
\

\b \cb4 2018:
\b0 \cb1 \
\pard\pardeftab720\sl280\partightenfactor0

\b \cf7 crab_Data_2018_v1_EGamma_BlockA
\b0 \cf2  -> 202/1822 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v1_EGamma_BlockA/results/notFinishedLumis.json\
	
\b crab_Data_2018_v1_EGamma_BlockA_missingv1
\b0 \
\

\b \cf7 crab_Data_2018_v2_EGamma_BlockB
\b0 \cf2  -> 60/873 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v2_EGamma_BlockB/results/notFinishedLumis.json\
	
\b crab_Data_2018_v2_EGamma_BlockB_missingv1
\b0 \
\

\b \cf7 crab_Data_2018_v1_EGamma_BlockC
\b0 \cf2  -> 77/874 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v1_EGamma_BlockC/results/notFinishedLumis.json\
	
\b crab_Data_2018_v1_EGamma_BlockC_missingv1
\b0 \
\

\b \cf7 crab_Data_2018_v1_EGamma_BlockD
\b0 \cf2  -> 442/4079 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v1_EGamma_BlockD/results/notFinishedLumis.json\
	
\b crab_Data_2018_v1_EGamma_BlockD_missingv1\
\
\cf7 crab_Data_2018_v2_SingleMu_BlockD
\b0 \cf2  -> (   1/4119) (50660) -> #
\b 2147
\b0  file missing, seg fault when trying to run it locally
\b \
\pard\pardeftab720\sl280\partightenfactor0

\b0 \cf2 /home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v2_SingleMu_BlockD/results/notFinishedLumis.json\
	
\b crab_Data_2018_v2_SingleMu_BlockD_missingv1
\b0 \
	\
\pard\pardeftab720\sl280\partightenfactor0

\b \cf7 crab_Data_2018_v1_Tau_BlockA
\b0 \cf2  -> 364/1845 failed\
	/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v1_Tau_BlockA/results/notFinishedLumis.json\
	
\b crab_Data_2018_v1_Tau_BlockA_missingv1\
\pard\pardeftab720\sl280\partightenfactor0

\b0 \cf2 \

\b \'97\'97
\b0 \

\b \
\cb3 RESUBMIT LOCALLY\cb1 \
\
\cf5 Instructions\cf2 \
To be done when 1-10 files missing\
\

\b0 crab preparelocal -d /home/acaan/crab_projects/crab_2016v3_2019Jun23_DoubleEG__Run2016C-17Jul2018-v1/\
cd /home/acaan/crab_projects/crab_2016v3_2019Jun23_DoubleEG__Run2016C-17Jul2018-v1/local\
sh run_job.sh 1 ### runs job #1\
\
caveats:\
1) it will do tree.root -- no job number on it. So the solution I see is not parelize things/task, unfortunatelly, or this tree.root is going to be overwrited to the subsequent job\
2) the run_job.sh will be configured for the last preparelocal you did, it does not matter if it is annother shell or not.\
So, every time you run it it is safer to do the corresponding task preparelocal before. \
\

\b \cf5 Done\cf2 \
\
\cf8 crab_Data_2017_v1_MuonEG_BlockE
\b0 \cf9  \cf2 -> (   1/1428) (-1) -> 
\b #1027 file missing\

\b0 /home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2017_v1_MuonEG_BlockE/local/HTauTauAnalysis_1027.root\
\cf5 \

\b \cf8 crab_Data_2018_v1_SingleMu_BlockB
\b0 \cf2  -> (  3/873) (50664) -> 204, 374, 
\b 583
\b0  \'97> 
\b #583 file missing
\b0 \
/home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/crab3/crab_Data_2018_v1_SingleMu_BlockB/local/local/HTauTauAnalysis_583.root
\b \
\
\'97\'97\
\
\cb3 TASKS THAT APPEAR UNFINISHED BUT THEY ARE FINISHED\cb1 \
\
\cf5 Done\cf2 \
\
\cf8 crab_Data_2016_v2_SingleEle_BlockC
\b0 \cf2  -> (  1/580) (50660) -> 10 \'97> file is there DONE\
/dpm/in2p3.fr/home/cms/trivcat/store/user/cmartinp/ttH_Legacy/Data_2016_v1/SingleElectron/Data_2016_v2_SingleEle_BlockC/190729_132730/0000/HTauTauAnalysis_10.root\
\cf8 \

\b \cf8 crab_Data_2016_v2_SingleEle_BlockD
\b0 \cf2  -> (  2/972) (50664) -> 335, 402 \'97> file are there DONE\
/dpm/in2p3.fr/home/cms/trivcat/store/user/cmartinp/ttH_Legacy/Data_2016_v1/SingleElectron/Data_2016_v2_SingleEle_BlockD/190729_132807/0000/HTauTauAnalysis_335.root\
/dpm/in2p3.fr/home/cms/trivcat/store/user/cmartinp/ttH_Legacy/Data_2016_v1/SingleElectron/Data_2016_v2_SingleEle_BlockD/190729_132807/0000/HTauTauAnalysis_402.root\
\cf8 \

\b \cf8 crab_Data_2016_v2_SingleMu_BlockB
\b0 \cf2  -> (   1/1756) (postprocessing) -> 363 \'97> file are there DONE\
/dpm/in2p3.fr/home/cms/trivcat/store/user/cmartinp/ttH_Legacy/Data_2016_v1/SingleMuon/Data_2016_v2_SingleMu_BlockB/190730_065301/0000/HTauTauAnalysis_363.root\
\

\b \'97\'97\
\
Store crab status:\

\b0 crab status -d crab3/crab_Data_2018_v2_SingleMu_BlockD > failed/crab_status_Data_2018_v2_SingleMu_BlockD.log\
~/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/failed
\b \
\
Monitor task:\

\b0 https://monit-grafana.cern.ch/d/cmsTMDetail/cms-task-monitoring-task-view?orgId=11&var-user=cmartinp&var-task=190729_132730%3Acmartinp_crab_Data_2016_v2_SingleEle_BlockC
\b \
\
Print out files:\

\b0 rfdir /dpm/in2p3.fr/home/cms/trivcat/store/user/cmartinp/ttH_Legacy/Data_2016_v1/SingleElectron/Data_2016_v2_SingleEle_BlockC/190729_132730/0000 > /home/llr/cms/mperez/dataprod_legacyRun2/CMSSW_10_2_14/src/LLRHiggsTauTau/NtupleProducer/test/failed/crab_files_Data_2016_v2_SingleEle_BlockC.txt
\b \
\
\'97\'97\
\
\cb3 SUBMIT MISSING SAMPLES\cb1 \
\

\b0   //GluGluHToZZTo4L_M125_13TeV_powheg2_JHUgenV6_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v1/MINIAODSIM\
  //GluGluHToWWToLNuQQ_M125_13TeV_powheg_JHUGenV628_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v1/MINIAODSIM\
  //GluGluHToWWTo2L2Nu_M125_W10_13TeV_powheg_JHUgen_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v2/MINIAODSIM\
  //GluGlu_HToMuMu_M125_13TeV_powheg_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v2/MINIAODSIM\
  //GluGluHToBB_M125_13TeV_amcatnloFXFX_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v1/MINIAODSIM\
  //GluGluHToGG_M125_13TeV_amcatnloFXFX_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext2-v2/MINIAODSIM\
\
  //VBF_HToZZTo4L_M125_13TeV_powheg2_JHUgenV6_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v2/MINIAODSIM\
  //VBFHToWWToLNuQQ_M125_13TeV_powheg_JHUGenV628_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v1/MINIAODSIM\
  //VBFHToWWTo2L2Nu_M125_13TeV_powheg_JHUgenv628_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v2/MINIAODSIM\
  //VBF_HToMuMu_M125_13TeV_powheg_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3_ext1-v2/MINIAODSIM\
  //VBFHToBB_M125_13TeV_amcatnlo_pythia8/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v2/MINIAODSIM\
  //VBFHToGG_M125_13TeV_amcatnlo_pythia8_v2/RunIISummer16MiniAODv3-PUMoriond17_94X_mcRun2_asymptotic_v3-v1/MINIAODSIM\
\
  Double Higgs?
\b \
\
\'97\'97\
\
\cb3 PLOT PIECHART STATUS\cb1 \
\

\b0 1) you do the latest status of everything\
\
for d in ~/crab_projects/crab_2017v2_2019May31_*; do crab status -d $d; done &> crab_status.log\
(you will not use this crab_status.log, that is more a cross check if you need to know something more detailed, the next command reads each crab.log inside every task on that naming convention)\
\
2)\
python plot_crab_status.py -i ~/crab_projects -p crab_2017v2_2019May31_.* -o pie.png\
https://github.com/HEP-KBFI/tth-nanoAOD/blob/master/scripts/plot_crab_status.py
\b \
\
\
\pard\pardeftab720\sl280\partightenfactor0
\cf7 \
}